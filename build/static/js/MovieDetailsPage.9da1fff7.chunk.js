(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{57:function(e,t,n){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,a=!1,c=void 0;try{for(var r,o=e[Symbol.iterator]();!(i=(r=o.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(s){a=!0,c=s}finally{try{i||null==o.return||o.return()}finally{if(a)throw c}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return a}))},58:function(e,t,n){e.exports={image:"MovieDetails_image__1Z9Ue",actorImage:"MovieDetails_actorImage__2Xg0M MovieDetails_image__1Z9Ue",userAvatar:"MovieDetails_userAvatar__3c4eM",subtitle:"MovieDetails_subtitle__z0WV-",text:"MovieDetails_text__1H1Bh",moviePoster:"MovieDetails_moviePoster__pz33_",gallery:"MovieDetails_gallery__d6c0r",item:"MovieDetails_item__24E6Q",wrap:"MovieDetails_wrap__2w0W1",content:"MovieDetails_content__1h4C_",title:"MovieDetails_title__3u77s",cast:"MovieDetails_cast__2q-io MovieDetails_item__24E6Q",reviews:"MovieDetails_reviews__2wgtD MovieDetails_item__24E6Q",castLink:"MovieDetails_castLink__20RWZ",reviewsLink:"MovieDetails_reviewsLink__2WdnJ",list:"MovieDetails_list__1yuZx",button:"MovieDetails_button__3HmvB"}},59:function(e,t,n){"use strict";var i="https://api.themoviedb.org/3",a="af8b040221b1ba9bcffe2515fde78733";var c={fetchTrendMovies:function(){return fetch("".concat(i,"/trending/movie/day?api_key=").concat(a)).then((function(e){return e.ok?e.json():Promise.reject(new Error("\u041d\u0435\u0442 \u0442\u0440\u0435\u043d\u0434\u043e\u0432\u044b\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432"))}))},fetchMovies:function(e){return fetch("".concat(i,"/search/movie?api_key=").concat(a,"&language=en-US&query=").concat(e,"&page=1&include_adult=false")).then((function(e){return e.ok?e.json():Promise.reject(new Error("\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"))}))},fetchMovieByID:function(e){return fetch("".concat(i,"/movie/").concat(e,"?api_key=").concat(a,"&language=en-US_expand=actors")).then((function(t){return t.ok?t.json():Promise.reject(new Error("\u041d\u0435\u0442 \u0444\u0438\u043b\u044c\u043c\u0430 ".concat(e)))}))},fetchActors:function(e){return fetch("".concat(i,"/movie/").concat(e,"/credits?api_key=").concat(a,"&language=en-US_embed=movie")).then((function(t){return t.ok?t.json():Promise.reject(new Error("\u041d\u0435\u0442 \u0430\u043a\u0442\u0435\u0440\u043e\u0432 \u0432 \u0444\u0438\u043b\u044c\u043c\u0435 ".concat(e)))}))},fetchReviews:function(e){return fetch("".concat(i,"/movie/").concat(e,"/reviews?api_key=").concat(a,"&language=en-US&page=1")).then((function(t){return t.ok?t.json():Promise.reject(new Error("\u041d\u0435\u0442 \u043e\u0442\u0437\u044b\u0432\u043e\u0432 \u043e \u0444\u0438\u043b\u044c\u043c\u0435 ".concat(e)))}))}};t.a=c},60:function(e,t,n){"use strict";t.a={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},61:function(e,t,n){e.exports={title:"PageHeading_title__1zVTq"}},62:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(61),a=n.n(i),c=n(1);function r(e){var t=e.text;return Object(c.jsx)("h1",{className:a.a.title,children:t})}},67:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(57),a=n(3),c=n(9),r=n(0),o=n(62),s=n(59),l=n(60),u=n(58),v=n.n(u),j=n(15),f=(n(23),n(1)),h=Object(r.lazy)((function(){return n.e(1).then(n.bind(null,64))})),_=Object(r.lazy)((function(){return n.e(5).then(n.bind(null,65))}));function d(){var e=Object(a.f)(),t=Object(a.g)(),n=Object(a.i)(),u=n.url,d=n.path,b=Object(r.useState)(l.a.IDLE),m=Object(i.a)(b,2),p=m[0],O=m[1],g=Object(r.useState)(null),x=Object(i.a)(g,2),w=(x[0],x[1]),D=Object(r.useState)(null),y=Object(i.a)(D,2),E=y[0],M=y[1],k=Object(a.h)().movieId;if(Object(r.useEffect)((function(){s.a.fetchMovieByID(k).then((function(e){M(e),O(l.a.RESOLVED)})).catch((function(e){w(e),O(l.a.REJECTED)}))}),[k]),p===l.a.IDLE)return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(o.a,{text:"\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 1 \u0444\u0438\u043b\u044c\u043c\u0430 ".concat(k)})});if(p===l.a.PENDING)return Object(f.jsx)("p",{children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c"});if(p===l.a.REJECTED)return Object(f.jsx)("p",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"});if(p===l.a.RESOLVED){var N,S,I,L,A=10*Number(E.vote_average);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{className:v.a.button,type:"button",onClick:function(){var n,i;e.push(null!==(n=null===t||void 0===t||null===(i=t.state)||void 0===i?void 0:i.from)&&void 0!==n?n:"/")},children:"Go back"}),E&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h2",{className:v.a.title,children:E.title}),Object(f.jsxs)("p",{className:v.a.text,children:["User score: ",A,"%"]}),Object(f.jsxs)("div",{className:v.a.wrap,children:[Object(f.jsx)("img",{className:v.a.image,src:"".concat("https://www.themoviedb.org/t/p/w600_and_h900_bestv2").concat(E.backdrop_path),alt:E.title}),Object(f.jsxs)("div",{className:v.a.content,children:[Object(f.jsx)("h3",{className:v.a.subtitle,children:"Overview"}),Object(f.jsx)("p",{children:E.overview}),E.genres&&Object(f.jsxs)("ul",{className:v.a.list,children:["Genres",E.genres.map((function(e){return Object(f.jsx)("li",{className:v.a.item,children:e.name},e.id)}))]}),Object(f.jsxs)("ul",{className:v.a.list,children:["Additional information",Object(f.jsx)("li",{className:v.a.cast,children:Object(f.jsx)(c.c,{className:v.a.castLink,to:{pathname:"".concat(u,"/cast"),state:{from:null!==(N=null===t||void 0===t||null===(S=t.state)||void 0===S?void 0:S.from)&&void 0!==N?N:t}},children:"Cast"})}),Object(f.jsx)("li",{className:v.a.reviews,children:Object(f.jsx)(c.c,{className:v.a.reviewsLink,to:{pathname:"".concat(u,"/reviews"),state:{from:null!==(I=null===t||void 0===t||null===(L=t.state)||void 0===L?void 0:L.from)&&void 0!==I?I:t}},children:"Reviews"})})]})," "]})," "]}),Object(f.jsxs)(r.Suspense,{fallback:Object(f.jsx)(j.a,{}),children:[Object(f.jsx)(a.a,{path:"".concat(d,"/cast"),children:Object(f.jsx)(h,{})}),Object(f.jsx)(a.a,{path:"".concat(d,"/reviews"),children:Object(f.jsx)(_,{})})]})]})]})}}}}]);
//# sourceMappingURL=MovieDetailsPage.9da1fff7.chunk.js.map