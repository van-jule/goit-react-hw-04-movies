(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{57:function(e,t,n){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,i=!1,c=void 0;try{for(var r,o=e[Symbol.iterator]();!(a=(r=o.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(s){i=!0,c=s}finally{try{a||null==o.return||o.return()}finally{if(i)throw c}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return i}))},58:function(e,t,n){e.exports={image:"MovieDetails_image__1Z9Ue",actorImage:"MovieDetails_actorImage__2Xg0M MovieDetails_image__1Z9Ue",userAvatar:"MovieDetails_userAvatar__3c4eM",subtitle:"MovieDetails_subtitle__z0WV-",text:"MovieDetails_text__1H1Bh",moviePoster:"MovieDetails_moviePoster__pz33_",gallery:"MovieDetails_gallery__d6c0r",item:"MovieDetails_item__24E6Q",wrap:"MovieDetails_wrap__2w0W1",content:"MovieDetails_content__1h4C_",title:"MovieDetails_title__3u77s",cast:"MovieDetails_cast__2q-io MovieDetails_item__24E6Q",reviews:"MovieDetails_reviews__2wgtD MovieDetails_item__24E6Q",castLink:"MovieDetails_castLink__20RWZ",reviewsLink:"MovieDetails_reviewsLink__2WdnJ",list:"MovieDetails_list__1yuZx",button:"MovieDetails_button__3HmvB"}},59:function(e,t,n){"use strict";var a="https://api.themoviedb.org/3",i="af8b040221b1ba9bcffe2515fde78733";var c={fetchTrendMovies:function(){return fetch("".concat(a,"/trending/movie/day?api_key=").concat(i)).then((function(e){return e.ok?e.json():Promise.reject(new Error("\u041d\u0435\u0442 \u0442\u0440\u0435\u043d\u0434\u043e\u0432\u044b\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432"))}))},fetchMovies:function(e){return fetch("".concat(a,"/search/movie?api_key=").concat(i,"&language=en-US&query=").concat(e,"&page=1&include_adult=false")).then((function(e){return e.ok?e.json():Promise.reject(new Error("\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"))}))},fetchMovieByID:function(e){return fetch("".concat(a,"/movie/").concat(e,"?api_key=").concat(i,"&language=en-US_expand=actors")).then((function(t){return t.ok?t.json():Promise.reject(new Error("\u041d\u0435\u0442 \u0444\u0438\u043b\u044c\u043c\u0430 ".concat(e)))}))},fetchActors:function(e){return fetch("".concat(a,"/movie/").concat(e,"/credits?api_key=").concat(i,"&language=en-US_embed=movie")).then((function(t){return t.ok?t.json():Promise.reject(new Error("\u041d\u0435\u0442 \u0430\u043a\u0442\u0435\u0440\u043e\u0432 \u0432 \u0444\u0438\u043b\u044c\u043c\u0435 ".concat(e)))}))},fetchReviews:function(e){return fetch("".concat(a,"/movie/").concat(e,"/reviews?api_key=").concat(i,"&language=en-US&page=1")).then((function(t){return t.ok?t.json():Promise.reject(new Error("\u041d\u0435\u0442 \u043e\u0442\u0437\u044b\u0432\u043e\u0432 \u043e \u0444\u0438\u043b\u044c\u043c\u0435 ".concat(e)))}))}};t.a=c},60:function(e,t,n){"use strict";t.a={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},61:function(e,t,n){e.exports={title:"PageHeading_title__1zVTq"}},62:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(61),i=n.n(a),c=n(1);function r(e){var t=e.text;return Object(c.jsx)("h1",{className:i.a.title,children:t})}},67:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return _}));var a=n(57),i=n(3),c=n(9),r=n(0),o=n(62),s=n(59),l=n(60),u=n(58),v=n.n(u),d=n(15),j=(n(23),n(1)),h=Object(r.lazy)((function(){return n.e(1).then(n.bind(null,64))})),f=Object(r.lazy)((function(){return n.e(5).then(n.bind(null,65))}));function _(){var e=Object(i.f)(),t=Object(i.g)(),n=Object(i.i)(),u=n.url,_=n.path,b=Object(r.useState)(l.a.IDLE),m=Object(a.a)(b,2),p=m[0],O=m[1],g=Object(r.useState)(null),w=Object(a.a)(g,2),x=(w[0],w[1]),D=Object(r.useState)(null),y=Object(a.a)(D,2),E=y[0],M=y[1],k=Object(i.h)().movieId;if(Object(r.useEffect)((function(){O(l.a.PENDING),s.a.fetchMovieByID(k).then((function(e){M(e),O(l.a.RESOLVED)})).catch((function(e){x(e),O(l.a.REJECTED)}))}),[k]),p===l.a.IDLE)return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(o.a,{text:"\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 1 \u0444\u0438\u043b\u044c\u043c\u0430 ".concat(k)})});if(p===l.a.PENDING)return Object(j.jsx)("p",{children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c"});if(p===l.a.REJECTED)return Object(j.jsx)("p",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"});if(p===l.a.RESOLVED){var N,S,I,L,P=10*Number(E.vote_average),A=null===E||void 0===E?void 0:E.backdrop_path;A&&(A=A.includes("http")?A.slice(1):"".concat("https://www.themoviedb.org/t/p/w600_and_h900_bestv2").concat(E.backdrop_path));var R=A||"https://www.linguahouse.com/linguafiles/md5/c1a891a2958ae7c85915f28d4aaa3da1";return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{className:v.a.button,type:"button",onClick:function(){var n,a;e.push(null!==(n=null===t||void 0===t||null===(a=t.state)||void 0===a?void 0:a.from)&&void 0!==n?n:"/")},children:"Go back"}),E&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{className:v.a.title,children:E.title}),Object(j.jsxs)("p",{className:v.a.text,children:["User score: ",P,"%"]}),Object(j.jsxs)("div",{className:v.a.wrap,children:[Object(j.jsx)("img",{className:v.a.image,src:R,alt:E.title}),Object(j.jsxs)("div",{className:v.a.content,children:[Object(j.jsx)("h3",{className:v.a.subtitle,children:"Overview"}),Object(j.jsx)("p",{children:E.overview}),E.genres&&Object(j.jsxs)("ul",{className:v.a.list,children:["Genres",E.genres.map((function(e){return Object(j.jsx)("li",{className:v.a.item,children:e.name},e.id)}))]}),Object(j.jsxs)("ul",{className:v.a.list,children:["Additional information",Object(j.jsx)("li",{className:v.a.cast,children:Object(j.jsx)(c.c,{className:v.a.castLink,to:{pathname:"".concat(u,"/cast"),state:{from:null!==(N=null===t||void 0===t||null===(S=t.state)||void 0===S?void 0:S.from)&&void 0!==N?N:t}},children:"Cast"})}),Object(j.jsx)("li",{className:v.a.reviews,children:Object(j.jsx)(c.c,{className:v.a.reviewsLink,to:{pathname:"".concat(u,"/reviews"),state:{from:null!==(I=null===t||void 0===t||null===(L=t.state)||void 0===L?void 0:L.from)&&void 0!==I?I:t}},children:"Reviews"})})]})," "]})," "]}),Object(j.jsxs)(r.Suspense,{fallback:Object(j.jsx)(d.a,{}),children:[Object(j.jsx)(i.a,{path:"".concat(_,"/cast"),children:Object(j.jsx)(h,{})}),Object(j.jsx)(i.a,{path:"".concat(_,"/reviews"),children:Object(j.jsx)(f,{})})]})]})]})}}}}]);
//# sourceMappingURL=MovieDetailsPage.02b1c32a.chunk.js.map